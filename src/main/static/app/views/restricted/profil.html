<!--
  ~ Copyright (c) 2016 BreizhCamp
  ~ [http://breizhcamp.org]
  ~
  ~ This file is part of CFP.io.
  ~
  ~ CFP.io is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program. If not, see <http://www.gnu.org/licenses/>.
  -->

<div class="row">
    <div class="panel">
        <div class="panel-body">
            <div id="form-container">
                <!-- use ng-submit to catch the form submission and use our Angular function -->
                <form class="form-horizontal" id="form" name="form" xt-form role="form" novalidate>
                    <!-- our nested state views will be injected here -->
                    <div class="col-lg-offset-2 col-lg-8">
                        <div class="form-group" bs-has verify="verify">
                            <label class="control-label" for="lastname">{{'step1.lastname' | translate}}</label>
                            <div>
                                <input required type="text" name="lastname" ng-class="{'ng-verify' : verify}" class="form-control" id="lastname" ng-model="formData.lastname">
                            </div>
                        </div>
                        <div class="form-group" bs-has verify="verify">
                            <label class="control-label" for="firstname">{{'step1.firstname' | translate}}</label>
                            <div>
                                <input required type="text" class="form-control" id="firstname" name="firstname" ng-model="formData.firstname">
                            </div>
                        </div>
                        <div class="form-group" bs-has verify="verify">
                            <label class="control-label" for="email">{{'step1.email' | translate}}</label>
                            <div>
                                <input readonly name="email" type="email" class="form-control" id="email" ng-model="email">
                            </div>
                        </div>
                        <div class="form-group" bs-has >
                            <label class="control-label" for="language">{{'step1.language' | translate}}</label>
                            <div>
                                <select name="language" class="form-control" id="language" ng-model="formData.language">
                                    <option>FranÃ§ais</option>
                                    <option>English</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group" bs-has verify="verify">
                            <label class="control-label" for="phone">{{'step1.phone' | translate}}</label>
                            <div>
                                <input type="tel" class="form-control" name="phone" id="phone" preferred-countries="fr, de, gb, us" international-phone-number ng-model="formData.phone">
                                <span ng-show="!form.phone.$valid" class="alert">{{'step1.errorPhone' | translate}}</span>
                            </div>
                        </div>
                        <div class="form-group" bs-has verify="verify">
                            <label class="control-label" for="company">{{'step1.company' | translate}}</label>
                            <div>
                                <input type="text" class="form-control" name="company" id="company" ng-model="formData.company">
                            </div>
                        </div>
                        <div class="form-group" bs-has verify="verify">
                            <label class="control-label" for="bio">{{'step1.bio' | translate}}</label>
                            <div>
                                <div md-preview="formData.bio"></div>
                                <textarea required class="form-control" name="bio" id="bio" ng-model="formData.bio"  rows="3"></textarea>
                            </div>
                        </div>
                        <div class="form-group" bs-has verify="verify">
                            <label class="control-label" for="twitter">{{'step1.twitter' | translate}}</label>
                            <div>
                                <input type="text" class="form-control" name="twitter" id="twitter" ng-model="formData.twitter">
                            </div>
                        </div>
                        <div class="form-group" bs-has verify="verify">
                            <label class="control-label" for="googleplus">{{'step1.googleplus' | translate}}</label>
                            <div>
                                <input type="text" class="form-control" name="googleplus" id="googleplus" ng-model="formData.googleplus">
                            </div>
                        </div>
                        <div class="form-group" bs-has verify="verify">
                            <label class="control-label" for="github">{{'step1.github' | translate}}</label>
                            <div>
                                <input type="text" class="form-control" name="github" id="github" ng-model="formData.github">
                            </div>
                        </div>
                        <div class="form-group" bs-has verify="verify">
                            <label class="control-label" for="social">{{'step1.social' | translate}}</label>
                            <div>{{'step1.hintSocial' | translate}}</div>
                            <div>
                                <tags-input id="social" name="social" ng-model="formData.socialArray"></tags-input>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label" for="social">{{'profil.avatar' | translate}}</label>
                            <div>
                                <input type="text" class="form-control" name="avatar" id="avatar" ng-model="formData.imageProfilURL">
                            </div>
                            <div>
                                <div class="col-s-12 col-md-6">
                                    <span>
                                        <img ng-if="formData.imageProfilURL" class="avatar" ng-src="{{formData.imageProfilURL}}" alt="avatar">
                                        <img ng-if="!formData.imageProfilURL" class="avatar" ng-src="/lib/images/placeholder.png" alt="avatar">
                                    </span>
                                </div>
                            </div>
                        </div>

                        <p ng-show="sendError" class="col-sm-12 bg-danger alert">{{'profil.error' | translate}}</p>
                        <p ng-show="sendSuccess" class="col-sm-12 bg-success alert">{{'profil.success' | translate}}</p>
                        <div class="col-xs-12 col-sm-12 col-md-3 col-lg-4 pull-right" style="padding-bottom: 10px">
                            <button ng-click="doVerify(files)" ng-disabled="sending" class="btn btn-block btn-primary">
                                <span class="mdi-content-save pull-right" ng-class="{'glyphicon-refresh-animate' : sending, 'mdi-content-save' : !sending, 'mdi-navigation-refresh' : sending}"></span>
                                {{'profil.save' | translate}}
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
